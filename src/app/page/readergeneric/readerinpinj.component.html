<div class="container" style="margin-top: 70px;">

  <div class="form-group">
    <button class="btn btn-success">
      Salva
    </button>
    <button mat-flat-button color="warn" type="button" (click)="indietro()" style="margin:0px 20px;">
      Indietro
    </button>
  </div>

  <form [formGroup]="editForm" (ngSubmit)="submit()" *ngIf="editForm" class="border-class">

    <div class="form-row">
      <div class="form-group col-md-4">
        <label for="idTipoReader">Seleziona Tipo Reader</label>
        <select formControlName="idTipoReader" class="form-control">
          <option disabled>Seleziona Reader da Configurare</option>
          <option *ngFor="let tipoReader of tipoReaderList" value="{{tipoReader.id}}" disabled>
            {{tipoReader.descrizione}}
          </option>
        </select>
      </div>
      <div class="form-group col-md-3">
        <label for="ipAdress">Indirizzo Ip</label>
        <input formControlName="ipAdress" id="ipAdress" type="text" class="form-control" readonly>
      </div>
      <div class="form-group col-md-3">
        <label for="porta">Porta</label>
        <input formControlName="porta" id="porta" type="text" class="form-control" readonly>
      </div>
      <div class="form-group col-md-2">
        <label for="separatore">Separatore</label>
        <input formControlName="separatore" id="separatore" type="text" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.separatore.errors }" maxlength="1">
        <div *ngIf="submitted && f.separatore.errors" class="invalid-feedback">
          <div *ngIf="f.separatore.errors.required">Separatore Obbligatoria.</div>
        </div>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group col-md-2">
        <label for="activatePort">Porta Attivata</label>
        <input formControlName="activatePort" id="activatePort" type="text" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.activatePort.errors }" maxlength="20">
      </div>

      <div class="form-group col-md-2">
        <label for="onlinePort">Porta Online</label>
        <input formControlName="onlinePort" id="onlinePort" type="text" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.onlinePort.errors }" maxlength="20">
      </div>

      <div class="form-group col-md-2">
        <label for="greenPort">Porta Verde</label>
        <input formControlName="greenPort" id="greenPort" type="text" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.greenPort.errors }" maxlength="20">
      </div>

      <div class="form-group col-md-2">
        <label for="redPort">Porta Rossa</label>
        <input formControlName="redPort" id="redPort" type="text" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.redPort.errors }" maxlength="20">
      </div>
      <div class="form-group col-md-2">
        <label for="yellowPort">Porta Gialla</label>
        <input formControlName="yellowPort" id="yellowPort" type="text" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.yellowPort.errors }" maxlength="20">
      </div>
    </div>

    <div class="form-row">
      <div class="form-group col-md-4">
        <label for="inputMode">Input Mode</label>
        <input formControlName="inputMode" id="inputMode" type="text" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.inputMode.errors }" maxlength="20">
      </div>

      <div class="form-group col-md-4">
        <label for="inPathFile">Input Path File</label>
        <input formControlName="inPathFile" id="inPathFile" type="text" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.inPathFile.errors }" maxlength="20">
      </div>

      <div class="form-group col-md-4">
        <label for="extensionInFile">Extension In File</label>
        <input formControlName="extensionInFile" id="extensionInFile" type="text" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.extensionInFile.errors }" maxlength="20">
      </div>
    </div>

    <div class="form-row">
      <div class="form-group col-md-4">
        <label for="outputMode">Output Mode</label>
        <input formControlName="outputMode" id="outputMode" type="text" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.outputMode.errors }" maxlength="20">
      </div>

      <div class="form-group col-md-4">
        <label for="outPathFile">Output Path File</label>
        <input formControlName="outPathFile" id="outPathFile" type="text" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.outPathFile.errors }" maxlength="20">
      </div>

      <div class="form-group col-md-4">
        <label for="extensionOutFile">Extension Out File</label>
        <input formControlName="extensionOutFile" id="extensionOutFile" type="text" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.extensionOutFile.errors }" maxlength="20">
      </div>
    </div>

    <div class="form-row">
      <div class="form-group col-md-3">
        <label for="prefixPackage">Prefix Package</label>
        <input formControlName="prefixPackage" id="prefixPackage" type="text" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.prefixPackage.errors }" maxlength="20">
      </div>

      <div class="form-group col-md-3">
        <label for="postfixPackage">Postfix Package</label>
        <input formControlName="postfixPackage" id="postfixPackage" type="text" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.postfixPackage.errors }" maxlength="20">
      </div>

      <div class="form-group col-md-3">
        <label for="lineLenght">Line Lenght</label>
        <input formControlName="lineLenght" id="lineLenght" type="text" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.lineLenght.errors }" maxlength="20">
      </div>

      <div class="form-group col-md-3">
        <label for="fieldsNumber">Fields Number</label>
        <input formControlName="fieldsNumber" id="fieldsNumber" type="text" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.fieldsNumber.errors }" maxlength="20">
      </div>
    </div>

















  </form>


  <div class="form-group">
    <button mat-flat-button color="primary" type="button" (click)="openModal()" style="margin:0px 20px;">
      Aggiungi Antenna
    </button>
  </div>

  <mat-table [dataSource]="antennaTable" class="mat-elevation-z8">

    <ng-container matColumnDef="position">
      <mat-header-cell *matHeaderCellDef class="left"> No. </mat-header-cell>
      <mat-cell *matCellDef="let row">{{row.position}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="enable">
      <mat-header-cell *matHeaderCellDef class="left">Attiva </mat-header-cell>
      <mat-cell *matCellDef="let row">{{row.enable}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="maxRxSensitivity">
      <mat-header-cell *matHeaderCellDef class="left"> Max Rx Sensitivity </mat-header-cell>
      <mat-cell *matCellDef="let row"> {{row.maxRxSensitivity}} </mat-cell>
    </ng-container>


    <ng-container matColumnDef="maxTxPower">
      <mat-header-cell *matHeaderCellDef class="left"> Max Tx Power </mat-header-cell>
      <mat-cell *matCellDef="let row"> {{row.maxTxPower}} </mat-cell>
    </ng-container>


    <ng-container matColumnDef="powerinDbm">
      <mat-header-cell *matHeaderCellDef class="left"> Power in Dbm </mat-header-cell>
      <mat-cell *matCellDef="let row"> {{row.powerinDbm}} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="sensitivityinDbm">
      <mat-header-cell *matHeaderCellDef class="left"> Sensitivity in Dbm </mat-header-cell>
      <mat-cell *matCellDef="let row"> {{row.sensitivityinDbm}} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="azioni">
      <mat-header-cell *matHeaderCellDef> Azioni</mat-header-cell>
      <mat-cell *matCellDef="let row">
        <button mat-icon-button color="primary" (click)="editItem(row)">
          <mat-icon class="mat-2">edit</mat-icon>
        </button>
        <button mat-icon-button color="warn" (click)="deleteItem(row)">
          <mat-icon>delete</mat-icon>
        </button>
      </mat-cell>
    </ng-container>

    <mat-header-row
      *matHeaderRowDef="['position', 'enable', 'maxRxSensitivity', 'maxTxPower', 'powerinDbm', 'sensitivityinDbm','azioni']">
    </mat-header-row>
    <mat-row
      *matRowDef="let row; columns: ['position', 'enable', 'maxRxSensitivity', 'maxTxPower', 'powerinDbm', 'sensitivityinDbm', 'azioni']">
    </mat-row>

  </mat-table>


</div>